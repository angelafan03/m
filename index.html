<!doctype html>
<html>

<head>
  <title>MEAP Data Lab</title>
  <meta charset="utf-8" name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://use.fontawesome.com/releases/v5.2.0/css/all.css" media="screen" rel="stylesheet" type="text/css" />
  <link href="css/frame.css" media="screen" rel="stylesheet" type="text/css" />
  <link href="css/controls.css" media="screen" rel="stylesheet" type="text/css" />
  <link href="css/custom.css" media="screen" rel="stylesheet" type="text/css" />
  <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
  <link href='https://fonts.googleapis.com/css?family=Open+Sans+Condensed:300,700' rel='stylesheet' type='text/css'>
  <link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,700" rel="stylesheet">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script src="js/menu.js"></script>
  <script src="js/footer.js"></script>
  <style>
    .menu-index {
      color: rgb(255, 255, 255) !important;
      opacity: 1 !important;
      font-weight: 700 !important;
    }
  </style>
</head>

<body>
  <div class="menu-container"></div>
  <div class="content-container">
    <!-------------------------------------------------------------------------------------------->
    <!-------------------------------------------------------------------------------------------->
    <div class="content">
      <div class="content-table flex-column">
        <!-------------------------------------------------------------------------------------------->
        <div class="flex-row">
            <h3>Table of Content</h3>
            <ul>
              <li><a href="#text-only">Text Only</a></li>
              <li><a href="#buttons-and-inputs">Buttons and Inputs</a></li>
              <li><a href="#images-and-image-button">Images and Image Button</a></li>
              <li><a href="#text-around-image">Text around Image</a></li>
              <li><a href="#centered-image-and-table">Centered Image and Table</a></li>
              <li><a href="#adaptive-image">Adaptive Image</a></li>
              <li><a href="#text-with-images-and-videos">Text with Images and Videos</a></li>
              <li><a href="#iframe">Iframe</a></li>
              <li><a href="#list-of-projects">List of Projects</a></li>
              <li><a href="#gallery">Gallery (responsive size)</a></li>
              <li><a href="#masonry">Masonry (responsive size)</a></li>
              <li><a href="#survey">Survey</a></li>
            </ul>
          </div>
        </div>
        <!--End Intro-->
        <!-------------------------------------------------------------------------------------------->
        <!--Start Text Only-->
        <div class="flex-row">
          <div class="flex-item flex-column">
            <h2 id="text-only">Exploratory Analysis and Questions</h2>
            <hr>
            <p class="text">
              I decided to focus on the application data as I was more unsure of what I could do with the collection data.
              Others in the data lab seemed to have more ideas of how to clean up and visualize the collection data as well. 
              Some basic questions that arose from simply looking at the application data were which countries or regions were most represented, 
              whether there were large differences between host and archival countries, and how applications changed across cohorts 
              (were more, less, or the same countries applying). I also thought about patterns that might exist between material type and region. 
              I started off by using Tableau to create different types of visualizations for each cohort separately. 
              These included maps of host and archival countries, bar charts for applications that were funded and not funded by region, 
              bar charts for material types, and tables for host countries and the archival countries that they were applying to fund projects in. 
            </p>
            
            <p class="text text-center graph-title">
              Some examples of the initial visualizations created in Tableau
            </p>
            <img class="image center max-width-800 add-top-margin-small" src="img/tableaumap.png">
            <br>
            <img class="image center max-width-800 add-top-margin-small" src="img/tableaubars.png">
            
            
           <p class ="text"> 
             I also used Python and the Pandas library to get exact statistics of new countries that were present in each cohort 
             (the code is not the cleanest or most efficient).
            </p>
            
            <p class="text text-center graph-title">
              Code snippets of initial exploratory analysis
            </p>
            <img class="image center max-width-800 add-top-margin-small" src="img/python2.png">
            <br>
            <img class="image center max-width-800 add-top-margin-small" src="img/python1.png">
            
          <p class="text">After presenting my initial work to the rest of the data lab, discussing new questions that had come up, 
            and seeing what everyone else had done, I decided to focus on creating network graphs of host and archival countries to 
            illustrate any patterns in and across cohorts in this area. </p>
            
            
            
        <h2 id="text-only">Data Processing</h2>
            <hr>
            <h3>Miscellanious</h3>
            <p class="text">
             In general, I did not have to clean up the data much. There were only small differences between datasets that I had noted. 
              In my exploratory analysis of the data, I noted that Cohort 1 had “Ephemera” as a material type, but later cohorts did not. 
              However, I did not continue to work with the material types so I did not address this. In my work to prepare the data for the 
              network graphs and computing more statistics, I removed NaN values at the bottom of some of the application datasets using dataframe 
              indexing in Python. One cell in Cohort 2’s dataset used “México” while all other instances used “Mexico”, so I standardized the spelling 
              across datasets. Other examples were fixing “Nigeria” was entered as “NIgeria” in one cell, and similarly standardizing “Republic of 
              Congo” and “Republic of the Congo”. I made these small changes in Excel.
            </p>
            <br>
            <h3>Cohort 5 Data</h3>
            <p class="text"> 
            Because we received the Cohort 5 application data towards the end of Spring Quarter, more data processing had to be done for that dataset. 
            The dataset already contained detailed regions such as Southeast Asia and Latin America, but the data from other cohorts only had the more general “Americas” and “Asia”. 
            I had already created the network graphs for the previous cohorts and written code to calculate their statistics, so to make my
            visualizations uniform and to be able to use the same network preparation code that I had written, I added in the more general host and archival regions to the data. 
            I also standardized the country names as some were written in the country's native language which some viewers might not understand. 
            I also added a Host Country column based on the host institution recorded in the data.
            </p>
            <br>
            <h3>Prepping for Network Graphs</h3>
            <p class="text"> 
            I used gephi to create the network graphs. To do this, I had to transform the data into “nodes” and “edges” files. 
              The nodes files contain the country names as a label, a number assigned to it as an ID, and any other attributes to 
              categorize the countries. The edges files contain source IDs, target IDs, and the types of connections between them. 
              I had to change the data from country names to unique number identifiers and show the relationship between host and 
              archival country using these number IDs. To do this, I used the Pandas library in Python again. I created a masterlist of 
              nodes by creating a list of every unique host and archival country and looping through it to create a dictionary of countries 
              and their IDs. I also created a dictionary matching each country to its region. At first, I just created one node .csv file 
              for all cohorts using the node dictionary, but that gave me issues when exporting the graphs to be embedded into a website.
              All the nodes would appear on the graph when exported, even when nodes not present in the particular cohort had been filtered
              out in the gephi software. So, I kept the nodes dictionary but created separate node files for each cohort using a similar 
              process as when creating the masterlist. These node files included region as an attribute so I could color-code the graphs 
              by region.
            </p>
            <br>
            <p class="text"> 
            To create each edge file per cohort, I looped through each country in the Host Country and Archival Country columns of the dataframes,
              checked for that country’s ID in the node dictionary, and appended the ID value to a list. I then wrote the list of host IDs, the 
              list of archival IDs, and a list filled with the string ‘Directed’ into three columns in a .csv file. This is because each connection 
              was directed, an application from one host country to fund work in an archival country. 
            </p>
            <br>
            
            <p class="text text-center graph-title">
             Prepping data code snippets
            </p>
            <img class="image center max-width-800 add-top-margin-small" src="img/python3.png">
            <br>
            <img class="image center max-width-800 add-top-margin-small" src="img/python4.png">
            <br>
            <h3>Gathering Application Data Statistics</h3>
            <p class="text">
            Aside from preparing the data for gephi, I also used Python to gather statistics on total applications, funded applications, 
              applications which were invited for detailed, applications by region, and applications where the host and archival country 
              were the same and vice versa. To get applications by region, I simply looped through the “Host Region” columns of the dataframes. 
              To get applications which were invited for detailed, I copied the original cohort application dataframe and dropped rows which were 
              False in the “Invited for Detailed” column. To check whether the host and archival countries were the same, I applied a function to
              each dataframe which created a new column stating True if they were the same and False if not.
            </p>
            <br>
            <p class="text text-center graph-title">
             Gathering statistics code snippets
            </p>
            <img class="image center max-width-800 add-top-margin-small" src="img/python5.png">
            <br>
            <img class="image center max-width-800 add-top-margin-small" src="img/python6.png">
            <br>
            <p class="text">
            Much of the data processing done in Python, especially computing the statistics, was quite rudimentary. I just wanted 
            to get the job done initially. However, I am looking to make the code more efficient now that I have created my graphs 
              and computed the statistics. I will add how I changed the code to make it more robust in the future below.
            </p>
        <!--End Text Only!-->
   
        <!-------------------------------------------------------------------------------------------->
        <!--Start Text with Iframe-->
        <div class="flex-row">
          <div class="flex-item flex-column">
            <h2 id="iframe">Network Visualizations</h2>
            <hr>
            <p class="text">
              Here are the network graphs created using gephi and exported using Sigma.js. There are graphs for each cohort's applications as well as only the funded applications per cohort. There is also an aggregated 
              graph with all funded applications across cohorts 1 through 5.
            </p>
            <br>
            <ul>
              <li> On the left are some statistics on regions as well as host and archival countries.</li>
              <li>Clicking on the "More information" text shows a pop-up explaining how to read the graph.</li>
              <li>Selecting by group highlights nodes by region.</li>
              <li>Hovering over nodes highlights them and their connections, and clicking does the same thing. </li>
              <li> The size of each node/label and the thickness of the lines reflect how many applications that host country has sent out </li>
              <li>Each node and line is color coded: Purple/Africa, Green/Americas, Blue/Asia, Orange/Europe, Teal/Middle East, Pink/Oceania</li>
              <li> Each line has an arrow to show the host country pointing to the archival country, and lines are color coded by host country </li>
              <li> Nodes with no lines going in or out represent countries that are their own host and archival country </li>
            </ul>
            <h3>Cohort 1 Network</h3>
            <iframe class="inframe-in-body" src="https://angelafan03.github.io/c1-network/" name="c1-network" scrolling="no" marginheight="0px" marginwidth="0px" height="650px" width="800px" allowfullscreen></iframe>
            <p><a href="https://angelafan03.github.io/c1-network/">Full visualization</a></p>
            <br>
            <h3>Cohort 1 Funded Network</h3>
            <iframe class="inframe-in-body" src="https://angelafan03.github.io/c1-funded-network/" name="c1-funded-network" scrolling="no" marginheight="0px" marginwidth="0px" height="650px" width="800px" allowfullscreen></iframe>
            <p><a href="https://angelafan03.github.io/c1-funded-network/">Full visualization</a></p>
            <br>
            <h3>Cohort 2 Network</h3>
            <iframe class="inframe-in-body" src="https://angelafan03.github.io/c2-network/" name="c2-network" scrolling="no" marginheight="0px" marginwidth="0px" height="650px" width="800px" allowfullscreen></iframe>
            <p><a href="https://angelafan03.github.io/c2-network/">Full visualization</a></p>
            <br>
            <h3>Cohort 2 Funded Network</h3>
            <iframe class="inframe-in-body" src="https://angelafan03.github.io/c2-funded-network/" name="c2-funded-network" scrolling="no" marginheight="0px" marginwidth="0px" height="650px" width="800px" allowfullscreen></iframe>
            <p><a href="https://angelafan03.github.io/c2-funded-network/">Full visualization</a></p>
            <br>
            <h3>Cohort 3 Network</h3>
            <iframe class="inframe-in-body" src="https://angelafan03.github.io/c3-network/" name="c3-network" scrolling="no" marginheight="0px" marginwidth="0px" height="650px" width="800px" allowfullscreen></iframe>
            <p><a href="https://angelafan03.github.io/c3-network/">Full visualization</a></p>
            <br>
            <h3>Cohort 3 Funded Network</h3>
            <iframe class="inframe-in-body" src="https://angelafan03.github.io/c3-funded-network/" name="c3-funded-network" scrolling="no" marginheight="0px" marginwidth="0px" height="650px" width="800px" allowfullscreen></iframe>
            <p><a href="https://angelafan03.github.io/c3-funded-network/">Full visualization</a></p>
            <br>
            <h3>Cohort 4 Network</h3>
            <iframe class="inframe-in-body" src="https://angelafan03.github.io/c4-network/" name="c4-network" scrolling="no" marginheight="0px" marginwidth="0px" height="650px" width="800px" allowfullscreen></iframe>
            <p><a href="https://angelafan03.github.io/c4-network/">Full visualization</a></p>
            <br>
            <h3>Cohort 4 Funded Network</h3>
            <iframe class="inframe-in-body" src="https://angelafan03.github.io/c4-funded-network/" name="c4-funded-network" scrolling="no" marginheight="0px" marginwidth="0px" height="650px" width="800px" allowfullscreen></iframe>
            <p><a href="https://angelafan03.github.io/c4-funded-network/">Full visualization</a></p>
            <br>
            <h3>Cohort 5 Network</h3>
            <iframe class="inframe-in-body" src="https://angelafan03.github.io/c5-detailed/" name="c4-funded-network" scrolling="no" marginheight="0px" marginwidth="0px" height="650px" width="800px" allowfullscreen></iframe>
            <p><a href="https://angelafan03.github.io/c5-detailed/">Full visualization</a></p>
            <br>
            <h3>Cohort 5 Funded Network</h3>
            <iframe class="inframe-in-body" src="https://angelafan03.github.io/c5-detailed-funded/" name="c4-funded-network" scrolling="no" marginheight="0px" marginwidth="0px" height="650px" width="800px" allowfullscreen></iframe>
            <p><a href="https://angelafan03.github.io/c5-detailed-funded/">Full visualization</a></p>
            <br>
            <h3>C1-C5 Funded Network</h3>
            <iframe class="inframe-in-body" src="https://angelafan03.github.io/total-funded/" name="c4-funded-network" scrolling="no" marginheight="0px" marginwidth="0px" height="650px" width="800px" allowfullscreen></iframe>
            <p><a href="https://angelafan03.github.io/total-funded/">Full visualization</a></p>
            <br>
            <p class="text">
              Phasellus viverra nulla ut metus varius laoreet. Quisque rutrum. Aenean imperdiet. Etiam ultricies nisi vel
              augue. Curabitur ullamcorper ultricies nisi. Nam eget dui. Etiam rhoncus. Maecenas tempus, tellus eget
              condimentum rhoncus, sem quam semper libero, sit amet adipiscing sem neque sed ipsum. Nam quam nunc, blandit
              vel, luctus pulvinar, hendrerit id, lorem.
            </p>
          </div>
        </div>
        <!--END Text with Iframe-->
        <!-------------------------------------------------------------------------------------------->
        <!-------------------------------------------------------------------------------------------->
        <!-------------------------------------------------------------------------------------------->
        <!-------------------------------------------------------------------------------------------->
        <!--Start Credits-->
        <div class="flex-row">
          <div class="flex-item flex-item-stretch flex-column">
            <p class="text text-small text-italic add-top-margin-large">
              Credits: <span class="highlight-text">Organization One</span>: Author One and Author Two / <span class="highlight-text">Organization Two</span>: Author Three and Author Four
            </p>
          </div>
        </div>
        <!--End Credits-->
        <!-------------------------------------------------------------------------------------------->
      </div>
    </div>
    <!--<div class="footer-container"></div>-->
  </div>
</body>

</html>
